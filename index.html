<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
  />
  <title>Wetter App</title>

  <!-- iOS / PWA Basics -->
  <meta name="theme-color" content="#0f172a" />
  <link rel="stylesheet" href="style.css" />
  <!-- Du kannst später ein echtes Icon hier hinterlegen -->
  <link rel="icon" href="icon.png" />
  <link rel="apple-touch-icon" href="icon.png" />
</head>
<body>

  <div id="ambient-layer" class="ambient-layer" aria-hidden="true">
    <div class="ambient-shape ambient-shape--one"></div>
    <div class="ambient-shape ambient-shape--two"></div>
    <div id="sun-orb" class="sun-orb"></div>
  </div>

  <!-- Splash Screen -->
 <div id="splash" class="splash-screen">
  <div class="splash-anim">
    <div class="sun-core"></div>
    <div class="sun-rays"></div>
    <div class="sun-ring"></div>
  </div>

  <div class="splash-title">Wetter Universe</div>
</div>


  <main class="page">

    <!-- =========================
         HOME VIEW
         ========================= -->
    <div id="home-view" class="view view--active">

      <header class="home-header">
        <div class="home-header-top">
          <div>
            <div class="home-hello">Wetter Überblick</div>
            <div class="home-subtitle"></div>
          </div>
        </div>

        <!-- Suchfeld -->
        <div class="home-search">
          <div class="search-bar">
            <input
              id="city-search"
              class="city-search-input"
              type="text"
              placeholder="Stadt suchen..."
              autocomplete="off"
            />
            <button class="search-icon-btn">⌕</button>
          </div>

          <div id="city-results" class="city-results"></div>
        </div>
      </header>

      <!-- Zuletzt angesehene Städte -->
      <section class="home-section">
        <div class="home-section-header">
          <h2 class="home-section-title">Zuletzt angesehen</h2>
          
        </div>

        <div id="city-card-list" class="city-card-row">
          <!-- Karten werden per JS generiert -->
        </div>
      </section>

    </div>

    <!-- =========================
         DETAIL VIEW
         ========================= -->
    <div id="detail-view" class="view">

      <button id="back-button" class="back-button">← Zurück</button>

      <!-- HERO Wetterübersicht mit Dynamic Island -->
      <section id="hero" class="hero hero--clouds">
        <video
          id="hero-night-video"
          class="hero-video"
          src="assets/video/NightSky.mp4"
          autoplay
          muted
          loop
          playsinline
          webkit-playsinline
          preload="auto"
          aria-hidden="true"
        ></video>
        <!-- Dynamic Island -->
        <!-- Dynamic Island – 3 Modi -->

  
 


        <div class="hero-main">
          <div class="hero-temp" id="hero-temp">--°C</div>
          <div class="hero-city" id="hero-city">—</div>
          <div class="hero-condition" id="hero-condition">Lade Wetter...</div>
          <div class="hero-meta" id="hero-meta">---</div>
        </div>
      </section>

      <!-- VORHERSAGE -->
      <section class="section">
        <h2 class="section-title">Nächste Stunden</h2>
        <div class="forecast-strip">
          <div id="forecast-track" class="forecast-track"></div>
        </div>
      </section>

      <!-- AKTUELLE WERTE -->
      <section class="section section--metrics">
        <h2 class="section-title">Aktuelle Werte</h2>
        <div id="metrics-grid" class="metrics-grid"></div>
      </section>

      <!-- DAILY FORECAST -->
      <section id="daily-forecast-section" class="section" style="display:none;">
        <h2 class="section-title">Nächste 7 Tage</h2>
        <div id="daily-forecast-list" class="daily-forecast-list"></div>
      </section>

      <!-- ADVANCED INSIGHTS -->
      <section class="section">
        <h2 class="section-title">Weitere Einblicke</h2>
        <div id="advanced-grid" class="advanced-grid"></div>
      </section>

      <!-- REGEN & HEAT -->
      <section class="section">
        <h2 class="section-title">Rain & Comfort</h2>

        <div id="rain-card" class="card">
          <div class="rain-header">
            <div class="card-title">Regenwahrscheinlichkeit</div>
            <span id="rain-caption" class="rain-caption">--%</span>
          </div>
          <div class="rain-main">
            <div id="rain-gauge" class="rain-gauge" aria-hidden="true">
              <div class="rain-gauge-center">
                <span id="rain-gauge-peak">--%</span>
                <small>Peak</small>
              </div>
            </div>
            <div class="rain-meta">
              <div class="rain-meta-line"><span>Jetzt</span><span id="rain-meta-now">--%</span></div>
              <div class="rain-meta-line"><span>+1 Std</span><span id="rain-meta-hour">--%</span></div>
              <div class="rain-meta-line"><span>+3 Std</span><span id="rain-meta-three">--%</span></div>
            </div>
          </div>
          <div id="rain-details" class="rain-details"></div>
        </div>

        <div id="heat-card" class="card">
          <div class="card-title">Komfort / Hitzegefühl</div>

          <div class="heat-scale">
            <div class="heat-labels">
              <span>Frost</span><span>Kalt</span><span>Cool</span>
              <span>Comfort</span><span>Warm</span><span>Hot</span><span>Danger</span>
            </div>

            <div class="heat-track">
              <div class="heat-gradient"></div>
              <div class="heat-marker" id="heat-marker"></div>
            </div>
          </div>

          <div class="card-extra" id="heat-caption"></div>
        </div>

      </section>

    </div>
  </main>

  <script src="app.js"></script>
  <script>
    // Prevent zoom interactions so the PWA stays fixed-size
    (function preventZoom() {
      let lastTouchEnd = 0;

      document.addEventListener(
        "touchmove",
        (event) => {
          if (event.scale && event.scale !== 1) {
            event.preventDefault();
          }
        },
        { passive: false }
      );

      document.addEventListener(
        "touchend",
        (event) => {
          const now = Date.now();
          if (now - lastTouchEnd <= 350) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        },
        false
      );

      ["gesturestart", "gesturechange", "gestureend"].forEach((evt) =>
        document.addEventListener(evt, (event) => event.preventDefault())
      );
    })();
  </script>
</body>
</html>
